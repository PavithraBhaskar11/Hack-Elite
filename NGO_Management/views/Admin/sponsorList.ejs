<%- include('../partials/admin/header')%>

<div class="contentPage">

    <table class="table table-striped table mt-3" style="background-color:#f1f6f9;">
        <thead CLASS="thead-dark">
        <tr>
            <th scope="col">No.Of Sponsors </th>
            <th scope="col">Name</th>
            <th scope="col">Email Id</th>
            <th scope="col">Contact</th>
            <th scope="col">Address</th>
            <th scope="col">Type</th>
            <th scope="col">Applied NGO</th>

        </tr>
        </thead>
        <tbody>
        <%
        if(sponsors.length !== 0 ){
            var i = 1;
        sponsors.forEach(sponsors=>{
        %>
            <tr>
                <th scope="row"><%= i; %></th>
                <td><%= sponsors.name %></td>
                <td><%= sponsors.email %></td>
                <td><%= sponsors.phone_no %></td>
                <td><%= sponsors.address %></td>
                <td>Sponsor</td>
                <td data-toggle="modal" data-id="<%= i %>" data-target="#NGO<%= i%>">Click here to view NGO details</td>
            </tr>
            <div class="modal fade" id="NGO<%= i%>" data-backdrop="static" data-keyboard="false" tabindex="-1"
                 aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="staticBackdropLabel">Ngo Details</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="" class="Container">
                                <div style="padding: 1rem" class="row ">
                                    <div class="col">
                                        <h6 scope="row">Sl.no</h6>
                                    </div>
                                    <br>
                                    <div class="col">
                                        <h6>NGO ID</h6>
                                    </div>
                                    <hr>
                                    <div class="col">
                                        <h6>NGO Name</h6>
                                    </div>
                                    <hr>
                                    <div class="col">
                                        <h6>NGO Address</h6>
                                    </div>
                                    <div class="col">
                                        <h6>Sponsor Description</h6>
                                    </div>
                                </div>
                                <hr class="badge-info w-100">
                                <% if(sponsorsFor.length !== 0){
                                    var j = 1;
                                sponsorsFor.forEach(sponsorsFor =>{
                                if(sponsorsFor.u_id === sponsors.u_id){
                                %>
                                    <div style="padding: 1rem" class="row ">
                                        <div class="col">
                                            <p scope="row"><%= j %></p>
                                        </div>
                                        <br>
                                        <div class="col">
                                            <p><%= sponsorsFor.ngo_id %></p>
                                        </div>
                                        <hr>
                                        <div class="col">
                                            <p><%= sponsorsFor.ngo_name %></p>
                                        </div>
                                        <hr>
                                        <div class="col">
                                            <p><%= sponsorsFor.city %></p>
                                        </div>
                                        <div class="col">
                                            <p><%= sponsorsFor.spon_description %></p>
                                        </div>
                                    </div>

                                <%    j++} })
                                } else{ %>
                                    <tr>
                                        <td colspan="4" style="text-align: center; font-weight: bold" >No registered to any NGO</td>
                                    </tr>
                                <% } %>
                                <!-- Modal  -->

                            </div>
                        </div>

                    </div>

                </div>
            </div>
        <% i++})%>
        <% }else{%>
            <tr aria-colspan="10">No Data Found</tr>
        <%}%>

        </tbody>
    </table>

</div>

<%- include('../partials/footerUser')%>